var headerDiff = 103,
    headerDiffAfter = 102,
    _w = window,
    _d = document,
    docEl = _d.documentElement,
    $_page = $("html, body"),
    navbar = _d.querySelector("nav"),
    navLogo = _d.querySelector("nav img").parentNode,
    layer = _d.querySelector(".pp-parallax__layer"),
    stepOne = _d.querySelector(".pp-primary-bg"),
    stepTwo = _d.querySelector(".pp-secondary-bg"),
    stepThree = _d.querySelector(".pp-tertiary-bg"),
    // inicio da modificação
    stepFour = _d.querySelector(".pp-quaternary-bg"),
    // fim da modificação
    navbarList = _d.querySelectorAll(".navbar-light .navbar-nav .nav-link"),
    homeBtn = _d.getElementById("home--btn"),
    stepOneBtn = _d.getElementById("step-one--btn"),
    stepTwoBtn = _d.getElementById("step-two--btn"),
    stepThreeBtn = _d.getElementById("step-three--btn"),
    // inicio da modificação
    stepFourBtn = _d.getElementById("step-four--btn"),
    // fim da modificação
    scrollTo = function(a, c) {
        $_page.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove", function() {
            $_page.stop()
        });
        $_page.animate({
            scrollTop: $(a).position().top - c
        }, "slow", function() {
            $_page.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove")
        });
        return !1
    };
_w.addEventListener("scroll", function() {
    var a = docEl.scrollTop || _d.body.scrollTop;
    // console.log(stepFour);
    //  console.log(a > stepThree.offsetTop - headerDiff && a < stepFour.offsetTop - headerDiffAfter);
    0 <= a && a < stepOne.offsetTop - headerDiffAfter ? (navbar.style.backgroundColor = "", navLogo.classList.remove("show-logo"), navbarList.forEach(function(a, b) {
            a.classList.remove("active-link")
        }), document.activeElement.blur(), homeBtn.classList.add("active-link"), 974 >= docEl.offsetWidth ? navbarList.forEach(function(a, b) {
            a.style.color = "#fff"
        }) : navbarList.forEach(function(a, b) {
            a.style.color = ""
        }), document.querySelector(".navbar-toggler").classList.contains("collapsed") ?
        (navLogo.classList.remove("show-logo"), navbar.style.backgroundColor = "") : (navLogo.classList.add("show-logo"), navbar.style.backgroundColor = "#f7b869")) : a > stepOne.offsetTop - headerDiff && a < stepTwo.offsetTop - headerDiffAfter ? (navbar.style.backgroundColor = "#f7b869", navbarList.forEach(function(a, b) {
        a.classList.remove("active-link");
        a.style.color = "#fff"

        // inicio da modificação
    }), navLogo.classList.add("show-logo"), stepOneBtn.classList.add("active-link")) : a > stepTwo.offsetTop - headerDiff && a < stepThree.offsetTop - headerDiffAfter ? (navbar.style.backgroundColor =
        "#547eac", navbarList.forEach(function(a, b) {
            a.classList.remove("active-link")
        }), stepTwoBtn.classList.add("active-link")) : a > stepThree.offsetTop - headerDiff && a < stepFour.offsetTop - headerDiffAfter ? (navbar.style.backgroundColor =
        "#6d63a1", navbarList.forEach(function(a, b) {
            a.classList.remove("active-link")
    }),stepThreeBtn.classList.add("active-link")) : a > stepFour.offsetTop - headerDiff && (navbar.style.backgroundColor = "#f89a4e", navbarList.forEach(function(a, b) {
        a.classList.remove("active-link")
}), stepFourBtn.classList.add("active-link"))
});
// fim da modificação
_d.body.addEventListener("click", function(a) {
    a.target.matches("#home--btn") ? scrollTo("header", 0) : 
    a.target.matches("#step-one--btn, .pp-parallax__scroll-btn") ? scrollTo("#step-one", 95) : 
    a.target.matches("#step-two--btn") ? scrollTo("#step-two", 95) : 
    a.target.matches("#step-three--btn") ? scrollTo("#step-three", 95) : 
    a.target.matches("#step-four--btn, .pp-parallax__scroll-btn") ? scrollTo("#step-four", 95): 
    a.target.matches(".navbar-toggler") || 
    a.target.matches(".navbar-toggler-icon") ? (docEl.scrollTop += 1, --docEl.scrollTop) : 
    a.target.matches(".nav-link")
});